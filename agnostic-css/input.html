<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inputs</title>
    <link rel="stylesheet" href="./demo-globals.css" />
    <style>
      /* these styles are purely demonstration related only, and therefor
    should be considered hacky code :) */
      body {
        width: 850px;
        margin: 40px auto;
        font-weight: 200;
      }

      div,
      section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        margin-block-end: 40px;
      }

      .label:not(.label-inline) {
        margin-block-start: var(--fluid-16);
      }

      .demo-icon-cross,
      .demo-icon-check {
        width: 14px;
        height: 14px;
      }

      .demo-icon-cross {
        fill: tomato;
      }

      .demo-icon-check {
        fill: lightseagreen;
      }
    </style>
  </head>

  <body>
    <main>
      <svg
        aria-hidden="true"
        style="position: absolute; width: 0; height: 0; overflow: hidden"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <defs>
          <symbol id="icon-cross2" viewBox="0 0 16 16">
            <path
              d="M13.957 3.457l-1.414-1.414-4.543 4.543-4.543-4.543-1.414 1.414 4.543 4.543-4.543 4.543 1.414 1.414 4.543-4.543 4.543 4.543 1.414-1.414-4.543-4.543z"
            ></path>
          </symbol>
          <symbol id="icon-checkmark3" viewBox="0 0 16 16">
            <path d="M14 2.5l-8.5 8.5-3.5-3.5-1.5 1.5 5 5 10-10z"></path>
          </symbol>
        </defs>
      </svg>
      <div>
        <h1>Inputs</h1>
      </div>

      <h2>Text Input</h2>
      <section>
        <form>
          <div>
            <label class="label" for="input-text">Input label</label>
            <input class="input" id="input-text" name="input-text" type="text" />
          </div>
          <div>
            <label class="label" for="input-text-rounded">Input rounded label</label>
            <input
              class="input input-rounded"
              id="input-text-rounded"
              name="input-text-rounded"
              type="text"
            />
          </div>
          <div>
            <label class="label" for="input-readonly">Input readonly</label>
            <input
              readonly
              class="input"
              id="input-readonly"
              name="input-readonly"
              type="text"
              value="This value is readonly"
            />
          </div>
          <div>
            <label class="label" for="input-disabled">Input disabled</label>
            <input class="input" id="input-disabled" name="input-disabled" type="text" disabled />
          </div>
          <div>
            <label class="label label-small" for="input-text-small">Input small label</label>
            <input
              class="input input-small"
              id="input-text-small"
              name="input-text-small"
              type="text"
            />
          </div>
          <div>
            <label class="label label-" for="input-text-large">Input large label</label>
            <input
              class="input input-large"
              id="input-text-large"
              name="input-text-large"
              type="text"
            />
          </div>
          <div>
            <label class="label" for="input-text-underlined">Underlined inputs</label>
            <input
              class="input input-underlined"
              id="input-text-underlined"
              name="input-text-underlined"
              type="text"
            />
          </div>
          <div>
            <label class="label" for="input-text-underlined-bg"
              >Underlined inputs with background</label
            >
            <input
              class="input input-underlined input-underlined-bg"
              id="input-text-underlined-bg"
              name="input-text-underlined-bg"
              type="text"
            />
          </div>
          <div>
            <label class="label" for="input-text-underlined-bg-large"
              >Underlined input combined with size large</label
            >
            <input
              class="input input-underlined input-underlined-bg input-large"
              id="input-text-underlined-bg-large"
              name="input-text-underlined-bg-large"
              type="text"
            />
          </div>

          <div class="row" style="justify-content: flex-start">
            <label class="label label-inline" for="input-text-inlined">Input label (inline)</label>
            <input
              class="input input-inline"
              id="input-text-inlined"
              name="input-text-inlined"
              type="text"
            />
          </div>
          <div class="row">
            <label class="label label-inline" for="input-text-underlined-inline"
              >Input label (inline underlined)</label
            >
            <input
              class="input input-inline input-underlined"
              id="input-text-underlined-inline"
              name="input-text-underlined-inline"
              type="text"
            />
          </div>
        </form>

        <h3>Textarea</h3>
        <section class="width-full">
          <form>
            <div>
              <label class="label" for="input-textarea-small">Textarea small</label>
              <textarea cols="50" rows="4" id="input-textarea-small" class="input input-small">
Using the input and input-small CSS classes here mainly help keep the font sizes and line heights consistent.</textarea
              >
              <label class="label" for="input-textarea">Textarea</label>
              <textarea cols="50" rows="4" id="input-textarea" class="input">
The general input CSS class is quite helpful in keeping the textarea element cohesive with your other form inputs. Otherwise, just declaratively use it like you normally would.</textarea
              >
              <label class="label" for="input-textarea-large">Textarea large</label>
              <textarea cols="50" rows="4" id="input-textarea-large" class="input input-large">
Using the input and input-large CSS classes here mainly help keep the font sizes and line heights consistent.</textarea
              >
            </div>
          </form>
        </section>

        <h2>Errors &amp; Help Text</h2>
        <p>Apply help text by applying the <i>field-help</i> class.</p>
        <div class="width-full">
          <label class="label" for="input-text-help-block">Block field help</label>
          <input
            class="input"
            id="input-text-help-block"
            name="input-text-help-block"
            type="text"
          />
          <span class="field-help">Please fill out this field.</span>
        </div>

        <p><i>field-help-small</i> and <i>field-help-large</i></p>
        <div class="width-full">
          <label class="label" for="input-text-help-small">Smaller field help</label>
          <input
            class="input"
            id="input-text-help-small"
            name="input-text-help-small"
            type="text"
          />
          <span class="field-help-small">I'm smaller help text.</span>
        </div>

        <div class="width-full">
          <label class="label" for="input-text-help-large">Larger field help</label>
          <input
            class="input"
            id="input-text-help-large"
            name="input-text-help-large"
            type="text"
          />
          <span class="field-help-large">I'm larger help text.</span>
        </div>

        <p>
          Block level errors can be achieved declaritively by adding appropriate
          <i>TYPE-error</i> classes.
        </p>
        <div class="width-full">
          <label class="label label-error" for="input-text-error-block">Block label error</label>
          <input
            class="input input-error"
            id="input-text-error-block"
            name="input-text-error-block"
            type="text"
          />
          <span class="field-error" aria-live="polite">There's an error on this field.</span>
        </div>

        <p>
          Inline errors will require you to do some positional styling of your own. The following
          example shows one approach to how you might use Flexbox to achieve the desired placeholder
          of error messages (please forgive inline styles; this is only meant to show how it could
          be done)
        </p>
        <div class="row" style="justify-content: flex-start; align-items: flex-start">
          <label
            style="flex: 1; line-height: 38px"
            class="label label-inline label-error"
            for="input-text-inlined-error"
            >Inline label error</label
          >
          <div style="flex: 1; margin-block-end: 0">
            <input
              class="input input-error input-inline"
              id="input-text-inlined-error"
              name="input-text-inlined"
              type="text"
            />
            <span class="field-error" aria-live="polite">There's an error on this field.</span>
          </div>
        </div>

        <h2>Contraint Validation Example</h2>
        <p>
          Using HTML5's
          <a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation"
            >constraint validation with novalidate</a
          >
          on the form (custom), you should be able to achieve inlined field level errors. View
          source to see the JavaScript snippet that accompanies with the disclaimer that the example
          is purposely contrived and simple and not production worthy. Also note, you can use
          another validation means as AgnosticUI applies styles in a class-based approach.
        </p>
        <form class="validation-form-example" novalidate>
          <label for="mail" class="label validation-form-example-label"
            >Please enter an email address:</label
          >
          <input type="email" class="input" id="mail" name="mail" minlength="8" />
          <span class="field-error" aria-live="polite"></span>
          <button style="margin-block-start: 6px" class="btn">Submit</button>
        </form>
      </section>

      <h2>HTML5 Input Types</h2>
      <p>
        HTML5 provides a plethora of input types. AgnosticUI generally takes a minimalistic and
        backseat approach to these various types. Generally, input types that somehow seem similar
        to a text input like email, password, search, etc., will at least share the text input's
        general appearance in terms of height, spacing, font size, etc., if you've added AgnosticUI
        classes to it. But, we attempt to be as unobtrusive as possible towards the underlying
        native functionality. For example, we do not remove or replace the native 'X' or clear
        button for type search. If you're application needs such mangling, we hope that AgnosticUI
        at least provides some helpful scaffolding to build on top of.
      </p>
      <p>
        Also, unlike a
        <a href="https://css-tricks.com/no-class-css-frameworks/">classless framework</a>,
        AgnosticUI will only affect those elements where you've declaritively added our CSS hooks.
        Put differently, an email input with no AgnosticUI classes will behave and appear in an
        unadulterated fashion. If you'd like it to add AgnosticUI's general input look and feel,
        simply add the <i>input</i> class to it. Here are some examples of that.
      </p>
      <section>
        <form>
          <div>
            <label class="label" for="input-email">Email</label>
            <input class="input" id="input-email" name="input-email" type="email" />
            <label class="label" for="input-password">Password</label>
            <input class="input" id="input-password" name="input-password" type="password" />
            <label class="label" for="input-search">Search</label>
            <input class="input" id="input-search" name="input-search" type="search" />
            <label class="label" for="input-tel">Telephone</label>
            <input class="input" id="input-tel" name="input-tel" type="tel" />
            <label class="label" for="input-number">Number</label>
            <input
              class="input"
              id="input-number"
              name="input-number"
              type="number"
              min="10"
              max="30"
              step="5"
            />
          </div>
          <div>
            <h3>Size examples</h3>
            <label class="label" for="input-email-small">Email small rounded</label>
            <input
              class="input input-rounded input-small"
              id="input-email-small"
              name="input-email-small"
              type="email"
            />
            <label class="label" for="input-email-rounded">Email rounded (default size)</label>
            <input
              class="input input-rounded"
              id="input-email-rounded"
              name="input-email-rounded"
              type="email"
            />
            <label class="label" for="input-email-large">Email large rounded</label>
            <input
              class="input input-rounded input-large"
              id="input-email-large"
              name="input-email-large"
              type="email"
            />
          </div>
          <div>
            <h3>Underlined examples</h3>
            <label class="label" for="input-email-underlined">Email</label>
            <input
              class="input input-underlined"
              id="input-email-underlined"
              name="input-email-underlined"
              type="email"
            />
            <label class="label" for="input-password-underlined">Password</label>
            <input
              class="input input-underlined"
              id="input-password-underlined"
              name="input-password-underlined"
              type="password"
            />
          </div>
        </form>
      </section>

      <h2>Text Inputs with Icons</h2>
      <p>
        To use icon inputs you will have to wrap your input and icon elements with a container and
        give it the class <i>input-addon-container</i>. Then, use declarative classes on the addon
        and input itself like <i>input-addon-left</i> and <i>input-addon-right</i>, and
        <i>input-has-left-addon</i> and <i>input-has-right-addon</i> respectively for the input
        itself. Note that the label element will remain outside of this container.
      </p>
      <section>
        <form>
          <div>
            <label class="label" for="input-text-addon-left">Input icon on left</label>
            <div class="input-addon-container">
              <svg class="input-addon-left demo-icon-check">
                <desc>Checkmark icon</desc>
                <use xlink:href="#icon-checkmark3"></use>
              </svg>
              <input
                class="input input-has-left-addon"
                id="input-text-addon-left"
                name="input-text-addon-left"
                type="text"
                value="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
              />
            </div>
          </div>
          <div>
            <label class="label" for="input-text-addon-right">Input icon on right</label>
            <div class="input-addon-container">
              <input
                class="input input-has-right-addon"
                id="input-text-addon-right"
                name="input-text-addon-right"
                type="text"
                value="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
              />
              <svg class="input-addon-right demo-icon-cross">
                <desc>Cross icon</desc>
                <use xlink:href="#icon-cross2"></use>
              </svg>
            </div>
          </div>
          <div>
            <label class="label" for="input-text-addon-both">Input icons on left and right</label>
            <div class="input-addon-container">
              <svg class="input-addon-left demo-icon-check">
                <desc>Checkmark icon</desc>
                <use xlink:href="#icon-checkmark3"></use>
              </svg>
              <input
                class="input input-has-left-addon input-has-right-addon"
                id="input-text-addon-both"
                name="input-text-addon-both"
                type="text"
                value="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
              />
              <svg class="input-addon-right demo-icon-cross">
                <desc>Cross icon</desc>
                <use xlink:href="#icon-cross2"></use>
              </svg>
            </div>
          </div>
        </form>
      </section>

      <script>
        // Adapted from: https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation
        // Note this is just to kick in the html5 validation API for example purposes only!
        const form = document.querySelector('.validation-form-example')
        const email = document.getElementById('mail')
        const label = document.querySelector('.validation-form-example-label')
        const emailError = document.querySelector('#mail + span.field-error')

        const removeErrors = (email) => {
          emailError.innerHTML = ''
          emailError.className = 'field-error'
          email.className = 'input'
          label.className = 'label validation-form-example-label'
        }
        email.addEventListener('input', function (event) {
          // Check validity of input on each character typed in by user
          if (email.validity.valid) {
            // Reset content of error message and reset corresponding classes
            removeErrors(email)
          } else {
            showError()
          }
        })

        form.addEventListener('submit', function (event) {
          if (!email.validity.valid) {
            showError()
            event.preventDefault()
          }
        })
        function showError() {
          // Perhaps naive ux improvement—only shows field error if
          // there's at least a few characters to actually validate ¯\_(ツ)_/¯
          // It's likely better UX to implement the notion of fields being "touched"
          // and only show inline field errors once they've blurred off a field once.
          if (email.value && email.value.length < 3) {
            removeErrors(email)
            return
          }

          if (email.validity.valueMissing) {
            emailError.textContent = 'You need to enter an e-mail address.'
          } else if (email.validity.typeMismatch) {
            emailError.textContent = 'Entered value needs to be an e-mail address.'
          } else if (email.validity.tooShort) {
            emailError.textContent = `Email should be at least ${email.minLength} characters; you entered ${email.value.length}.`
          }
          emailError.className = 'field-error active'
          label.className = 'label label-error validation-form-example-label'
          email.className = 'input input-error'
        }
      </script>
    </main>
  </body>
</html>
