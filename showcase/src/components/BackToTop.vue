<script>
export default {
  name: 'back-to-top',
  props: {
    show: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    classes() {
      return {
        [this.$style.backToTopButton]: true,
        [this.$style.show]: this.show,
        [this.$style.hide]: !this.show
      }
    }
  },
  methods: {
    scrollToTheTop(ev) {
      ev.preventDefault()
      const current = document.documentElement.scrollTop || document.body.scrollTop
      if (current > 0) {
        document.documentElement.scrollTop = 0
        document.body.scrollTop = 0
      }
    }
  }
}
</script>

<style module>
.backToTopButton {
  position: fixed;
  right: var(--fluid-16);
  bottom: var(--fluid-24);
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
  opacity: 0;
  transform: translateY(-100%);
  transition: opacity 0.3s linear, transform 0.5s linear;
}
.show {
  opacity: 1;
  transform: translateY(0%);
}
.hide {
  opacity: 0;
  transform: translateY(-100%);
}

.backToTop {
  width: 40px;
}
@media only screen and (min-width: 768px) {
  .backToTopButton {
    right: var(--fluid-72);
    bottom: calc(2 * var(--fluid-56));
  }
}
</style>

<template>
  <button
    :class="classes"
    aria-label="Back to top trigger button"
    @click="scrollToTheTop"
  >
    <svg
      role="img"
      width="42"
      height="81"
      viewBox="0 0 42 81"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <desc>Back to top graphic</desc>
      <line
        x1="21"
        y1="7.41421"
        x2="5.41421"
        y2="23"
        stroke="#CCCCCC"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <line
        x1="1"
        y1="-1"
        x2="23.0416"
        y2="-1"
        transform="matrix(0.707107 0.707107 0.707107 -0.707107 21 6)"
        stroke="#CCCCCC"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M21 8.14209L21 41.9998"
        stroke="#CCCCCC"
        stroke-width="2"
        stroke-linecap="round"
      />
      <line
        x1="1"
        y1="1"
        x2="41"
        y2="1"
        stroke="#CCCCCC"
        stroke-width="2"
        stroke-linecap="round"
      />
      <path
        d="M4.65625 64.1289C5.24707 64.1289 5.75553 64.0376 6.18164 63.855C6.61133 63.6724 6.94076 63.4128 7.16992 63.0762C7.40267 62.7396 7.51904 62.3421 7.51904 61.8838V61.8784C7.51904 61.2876 7.3418 60.8221 6.9873 60.4819C6.63281 60.1382 6.05811 59.8786 5.26318 59.7031L4.40381 59.5151C3.89893 59.4041 3.52653 59.2466 3.28662 59.0425C3.04671 58.8384 2.92676 58.5788 2.92676 58.2637V58.2583C2.92676 58.0076 2.99658 57.7892 3.13623 57.603C3.27946 57.4168 3.47998 57.2718 3.73779 57.168C3.99561 57.0641 4.29639 57.0122 4.64014 57.0122C4.96956 57.0122 5.25781 57.0623 5.50488 57.1626C5.75553 57.2629 5.95785 57.4061 6.11182 57.5923C6.26579 57.7785 6.36247 58.0041 6.40186 58.269L6.4126 58.3442H7.37939L7.37402 58.2637C7.34538 57.8411 7.2111 57.4688 6.97119 57.1465C6.73486 56.8242 6.41797 56.5736 6.02051 56.3945C5.62305 56.2119 5.17188 56.1206 4.66699 56.1206C4.13704 56.1206 3.66618 56.2137 3.25439 56.3999C2.84619 56.5825 2.52572 56.8368 2.29297 57.1626C2.06022 57.4849 1.94206 57.859 1.93848 58.2852V58.2905C1.93848 58.8563 2.1193 59.3146 2.48096 59.6655C2.84619 60.0129 3.40658 60.2707 4.16211 60.439L5.02148 60.627C5.55501 60.7451 5.93994 60.9062 6.17627 61.1104C6.4126 61.3145 6.53076 61.5866 6.53076 61.9268V61.9321C6.53076 62.1971 6.45557 62.4281 6.30518 62.625C6.15837 62.8219 5.94889 62.9741 5.67676 63.0815C5.40462 63.1854 5.08236 63.2373 4.70996 63.2373C4.33757 63.2373 4.00814 63.1872 3.72168 63.0869C3.4388 62.9831 3.21143 62.8381 3.03955 62.6519C2.86768 62.4621 2.76204 62.2383 2.72266 61.9805L2.71191 61.9053H1.74512L1.75049 61.9805C1.78271 62.4209 1.92236 62.8022 2.16943 63.1245C2.42008 63.4468 2.75667 63.6956 3.1792 63.8711C3.60531 64.043 4.09766 64.1289 4.65625 64.1289ZM11.8911 64.1289C12.4318 64.1289 12.9224 64.0286 13.3628 63.8281C13.8032 63.6276 14.1702 63.3447 14.4639 62.9795C14.7575 62.6107 14.9526 62.1792 15.0493 61.6851L15.0601 61.6313H14.0825L14.0664 61.6797C13.9554 62.0199 13.7979 62.3063 13.5938 62.5391C13.3896 62.7682 13.1444 62.9419 12.8579 63.0601C12.575 63.1782 12.2528 63.2373 11.8911 63.2373C11.3791 63.2373 10.9315 63.1084 10.5483 62.8506C10.1652 62.5928 9.868 62.2311 9.65674 61.7656C9.44906 61.2965 9.34521 60.7487 9.34521 60.1221V60.1167C9.34521 59.4865 9.44906 58.9404 9.65674 58.4785C9.868 58.013 10.1634 57.6532 10.543 57.3989C10.9261 57.1411 11.3755 57.0122 11.8911 57.0122C12.2563 57.0122 12.5822 57.0713 12.8687 57.1895C13.1551 57.3076 13.3968 57.4777 13.5938 57.6997C13.7943 57.9181 13.9447 58.1849 14.0449 58.5L14.0825 58.6182H15.0601L15.0493 58.5645C14.9526 58.0739 14.7557 57.646 14.4585 57.2808C14.1649 56.9155 13.7979 56.6309 13.3574 56.4268C12.917 56.2227 12.4282 56.1206 11.8911 56.1206C11.1714 56.1206 10.5465 56.2853 10.0166 56.6147C9.48665 56.9406 9.07666 57.4025 8.78662 58.0005C8.49658 58.5985 8.35156 59.3039 8.35156 60.1167V60.1221C8.35156 60.9349 8.49658 61.6421 8.78662 62.2437C9.07666 62.8416 9.48665 63.3053 10.0166 63.6348C10.5501 63.9642 11.175 64.1289 11.8911 64.1289ZM16.2041 64H17.1709V60.9331H18.9648C18.9756 60.9331 18.9845 60.9331 18.9917 60.9331C19.0024 60.9331 19.0132 60.9331 19.0239 60.9331L20.6836 64H21.8169L20.0229 60.7827C20.5063 60.6287 20.8859 60.3566 21.1616 59.9663C21.4409 59.5724 21.5806 59.1069 21.5806 58.5698V58.5591C21.5806 58.0936 21.4785 57.689 21.2744 57.3452C21.0703 56.9979 20.7821 56.7293 20.4097 56.5396C20.0409 56.3462 19.6076 56.2495 19.1099 56.2495H16.2041V64ZM17.1709 60.0791V57.1089H18.981C19.4787 57.1089 19.869 57.2396 20.1519 57.501C20.4383 57.7588 20.5815 58.1187 20.5815 58.5806V58.5913C20.5815 59.0675 20.4455 59.4346 20.1733 59.6924C19.9048 59.9502 19.5216 60.0791 19.0239 60.0791H17.1709ZM26.0762 64.1289C26.8102 64.1289 27.4422 63.966 27.9722 63.6401C28.5057 63.3143 28.9175 62.8524 29.2075 62.2544C29.4976 61.6564 29.6426 60.9474 29.6426 60.1274V60.1167C29.6426 59.2967 29.4976 58.5895 29.2075 57.9951C28.9175 57.3971 28.5057 56.9352 27.9722 56.6094C27.4386 56.2835 26.8066 56.1206 26.0762 56.1206C25.3457 56.1206 24.7119 56.2835 24.1748 56.6094C23.6413 56.9352 23.2277 57.3971 22.9341 57.9951C22.644 58.5895 22.499 59.2967 22.499 60.1167V60.1274C22.499 60.9474 22.644 61.6564 22.9341 62.2544C23.2241 62.8524 23.6359 63.3143 24.1694 63.6401C24.7065 63.966 25.3421 64.1289 26.0762 64.1289ZM26.0762 63.2373C25.5462 63.2373 25.0879 63.1102 24.7012 62.856C24.3145 62.6017 24.0155 62.2419 23.8042 61.7764C23.5929 61.3109 23.4873 60.7612 23.4873 60.1274V60.1167C23.4873 59.4793 23.5929 58.9297 23.8042 58.4678C24.0155 58.0023 24.3145 57.6442 24.7012 57.3936C25.0915 57.1393 25.5498 57.0122 26.0762 57.0122C26.6025 57.0122 27.0591 57.1393 27.4458 57.3936C27.8325 57.6442 28.1297 58.0023 28.3374 58.4678C28.5487 58.9333 28.6543 59.4829 28.6543 60.1167V60.1274C28.6543 60.7576 28.5505 61.3055 28.3428 61.771C28.1351 62.2365 27.8379 62.5981 27.4512 62.856C27.068 63.1102 26.6097 63.2373 26.0762 63.2373ZM30.8457 64H35.5508V63.1299H31.8125V56.2495H30.8457V64ZM36.6143 64H41.3193V63.1299H37.5811V56.2495H36.6143V64ZM5.95068 78H6.91748V71.1196H9.36133V70.2495H3.50684V71.1196H5.95068V78ZM13.1748 78.1289C13.9089 78.1289 14.5409 77.966 15.0708 77.6401C15.6043 77.3143 16.0161 76.8524 16.3062 76.2544C16.5962 75.6564 16.7412 74.9474 16.7412 74.1274V74.1167C16.7412 73.2967 16.5962 72.5895 16.3062 71.9951C16.0161 71.3971 15.6043 70.9352 15.0708 70.6094C14.5373 70.2835 13.9053 70.1206 13.1748 70.1206C12.4443 70.1206 11.8105 70.2835 11.2734 70.6094C10.7399 70.9352 10.3263 71.3971 10.0327 71.9951C9.74268 72.5895 9.59766 73.2967 9.59766 74.1167V74.1274C9.59766 74.9474 9.74268 75.6564 10.0327 76.2544C10.3228 76.8524 10.7345 77.3143 11.2681 77.6401C11.8052 77.966 12.4408 78.1289 13.1748 78.1289ZM13.1748 77.2373C12.6449 77.2373 12.1865 77.1102 11.7998 76.856C11.4131 76.6017 11.1141 76.2419 10.9028 75.7764C10.6916 75.3109 10.5859 74.7612 10.5859 74.1274V74.1167C10.5859 73.4793 10.6916 72.9297 10.9028 72.4678C11.1141 72.0023 11.4131 71.6442 11.7998 71.3936C12.1901 71.1393 12.6484 71.0122 13.1748 71.0122C13.7012 71.0122 14.1577 71.1393 14.5444 71.3936C14.9312 71.6442 15.2284 72.0023 15.436 72.4678C15.6473 72.9333 15.7529 73.4829 15.7529 74.1167V74.1274C15.7529 74.7576 15.6491 75.3055 15.4414 75.771C15.2337 76.2365 14.9365 76.5981 14.5498 76.856C14.1667 77.1102 13.7083 77.2373 13.1748 77.2373ZM22.1606 78H23.1274V71.1196H25.5713V70.2495H19.7168V71.1196H22.1606V78ZM29.3848 78.1289C30.1188 78.1289 30.7508 77.966 31.2808 77.6401C31.8143 77.3143 32.2261 76.8524 32.5161 76.2544C32.8062 75.6564 32.9512 74.9474 32.9512 74.1274V74.1167C32.9512 73.2967 32.8062 72.5895 32.5161 71.9951C32.2261 71.3971 31.8143 70.9352 31.2808 70.6094C30.7472 70.2835 30.1152 70.1206 29.3848 70.1206C28.6543 70.1206 28.0205 70.2835 27.4834 70.6094C26.9499 70.9352 26.5363 71.3971 26.2427 71.9951C25.9526 72.5895 25.8076 73.2967 25.8076 74.1167V74.1274C25.8076 74.9474 25.9526 75.6564 26.2427 76.2544C26.5327 76.8524 26.9445 77.3143 27.478 77.6401C28.0151 77.966 28.6507 78.1289 29.3848 78.1289ZM29.3848 77.2373C28.8548 77.2373 28.3965 77.1102 28.0098 76.856C27.623 76.6017 27.3241 76.2419 27.1128 75.7764C26.9015 75.3109 26.7959 74.7612 26.7959 74.1274V74.1167C26.7959 73.4793 26.9015 72.9297 27.1128 72.4678C27.3241 72.0023 27.623 71.6442 28.0098 71.3936C28.4001 71.1393 28.8584 71.0122 29.3848 71.0122C29.9111 71.0122 30.3677 71.1393 30.7544 71.3936C31.1411 71.6442 31.4383 72.0023 31.646 72.4678C31.8573 72.9333 31.9629 73.4829 31.9629 74.1167V74.1274C31.9629 74.7576 31.859 75.3055 31.6514 75.771C31.4437 76.2365 31.1465 76.5981 30.7598 76.856C30.3766 77.1102 29.9183 77.2373 29.3848 77.2373ZM34.6377 75.2339H36.915C37.402 75.2339 37.8317 75.1283 38.2041 74.917C38.5765 74.7057 38.8683 74.4121 39.0796 74.0361C39.2944 73.6602 39.4019 73.2269 39.4019 72.7363V72.7256C39.4019 72.235 39.2944 71.8035 39.0796 71.4312C38.8683 71.0588 38.5765 70.7687 38.2041 70.561C37.8317 70.3534 37.402 70.2495 36.915 70.2495H34.6377V71.1089H36.668C37.223 71.1089 37.6527 71.2521 37.957 71.5386C38.2614 71.825 38.4136 72.2243 38.4136 72.7363V72.7471C38.4136 73.2555 38.2614 73.6548 37.957 73.9448C37.6527 74.2313 37.223 74.3745 36.668 74.3745H34.6377V75.2339ZM34.1543 78H35.1211V70.2495H34.1543V78Z"
        fill="#333333"
      />
    </svg>
  </button>
</template>
