{"version":3,"file":"input.component.js","sourceRoot":"","sources":["../../../../../libs/ag/src/lib/input.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  HostBinding,\n  Input,\n  ChangeDetectionStrategy,\n} from '@angular/core';\n\n@Component({\n  selector: 'ag-input',\n  template: `<div className=\"w-100\">\n    <label [class]=\"labelClasses()\" [for]=\"id\">\n      {{ label }}\n    </label>\n    <ng-container *ngIf=\"type === 'textarea'; else noTextarea\">\n      <textarea\n        *ngIf=\"type === 'textarea'\"\n        [id]=\"id\"\n        [attr.name]=\"name ? name : null\"\n        [value]=\"defaultValue || ''\"\n        [disabled]=\"isDisabled\"\n        [class]=\"inputClasses()\"\n        [placeholder]=\"placeholder ? placeholder : ''\"\n        [attr.rows]=\"rows\"\n        [attr.cols]=\"cols\"\n        (change)=\"(handleChange)\"\n        (focus)=\"(handleFocus)\"\n        (blur)=\"(handleBlur)\"\n      ></textarea>\n    </ng-container>\n    <ng-template #noTextarea>\n      <div\n        class=\"input-addon-container\"\n        *ngIf=\"hasLeftAddon || hasRightAddon; else inputOnly\"\n      >\n        <ng-content select=\"[addOnLeft]\"></ng-content>\n        <input\n          [id]=\"id\"\n          [attr.name]=\"name ? name : null\"\n          [value]=\"defaultValue || ''\"\n          [type]=\"type\"\n          [disabled]=\"isDisabled\"\n          [class]=\"inputClasses()\"\n          [placeholder]=\"placeholder ? placeholder : ''\"\n          (change)=\"(handleChange)\"\n          (focus)=\"(handleFocus)\"\n          (blur)=\"(handleBlur)\"\n        />\n        <ng-content select=\"[addOnRight]\"></ng-content>\n      </div>\n      <ng-template #inputOnly>\n        <input\n          [id]=\"id\"\n          [attr.name]=\"name ? name : null\"\n          [value]=\"defaultValue || ''\"\n          [type]=\"type\"\n          [disabled]=\"isDisabled\"\n          [class]=\"inputClasses()\"\n          [placeholder]=\"placeholder ? placeholder : ''\"\n          (change)=\"(handleChange)\"\n          (focus)=\"(handleFocus)\"\n          (blur)=\"(handleBlur)\"\n        />\n      </ng-template>\n    </ng-template>\n    <span\n      *ngIf=\"isInvalid; else helpHint\"\n      [class]=\"invalidClasses()\"\n      role=\"status\"\n      aria-live=\"polite\"\n    >\n      {{ invalidText }}\n    </span>\n    <ng-template #helpHint>\n      <span [class]=\"helpClasses()\" role=\"status\" aria-live=\"polite\">\n        {{ helpText }}\n      </span>\n    </ng-template>\n  </div>`,\n  styleUrls: ['./input.css', './inputaddon-hack.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class InputComponent {\n  // a11y duplicate ID unless we bind the host to externalId and delete\n  // that value before it's added to the DOM. Maybe there's a better way?\n  // https://coryrylan.com/blog/prevent-attribute-reflection-in-angular\n  @HostBinding('attr.id') externalId: string | null = '';\n  @Input()\n  set id(value: string) {\n    this._ID = value;\n    this.externalId = null;\n  }\n  get id() {\n    return this._ID;\n  }\n  private _ID: string = '';\n\n  @Input() helpText?: string = '';\n  @Input() invalidText?: string = '';\n  @Input() isInvalid?: boolean = false;\n  @Input() isSkinned?: boolean = true;\n  @Input() isRounded?: boolean = false;\n  @Input() isUnderlined?: boolean = false;\n  @Input() isInline?: boolean = false;\n  @Input() isDisabled?: boolean = false;\n  @Input() hasLeftAddon?: boolean = false;\n  @Input() hasRightAddon?: boolean = false;\n  @Input() isUnderlinedWithBackground?: boolean = false;\n  @Input() name?: string;\n  @Input() label!: string;\n  @Input() labelCss?: string;\n  @Input() css?: string;\n  @Input() placeholder?: string;\n  @Input() defaultValue?: string;\n  @Input() size?: 'small' | 'large' | '' = '';\n  @Input() type!:\n    | 'text'\n    | 'password'\n    | 'email'\n    | 'number'\n    | 'url'\n    | 'tel'\n    | 'search'\n    | 'textarea';\n  // It appears we can't have arbitrary props in Angular and they all have to be defined\n  // as an @Input. React has ...rest, Vue has v-bind=\"$attrs\", Svelte has  {...$$restProps} ¯\\_(ツ)_/¯\n  // https://github.com/angular/angular/issues/14545\n  @Input() rows?: number;\n  @Input() cols?: number;\n\n  helpClasses() {\n    const klasses = [\n      !this.size ? 'field-help' : '',\n      this.size ? `field-help-${this.size}` : '',\n    ];\n    return klasses.filter((klass) => klass.length).join(' ');\n  }\n  invalidClasses() {\n    const klasses = [\n      !this.size ? 'field-error' : '',\n      this.size ? `field-error-${this.size}` : '',\n    ];\n    return klasses.filter((klass) => klass.length).join(' ');\n  }\n  labelClasses() {\n    const labelKlasses = [\n      'label',\n      this.isInvalid ? 'label-error' : '',\n      this.isInline ? 'label-inline' : '',\n      this.size ? `label-${this.size}` : '',\n      this.labelCss ? this.labelCss : '',\n    ];\n    return labelKlasses.filter((klass) => klass.length).join(' ');\n  }\n  inputClasses() {\n    let klasses = [\n      this.isSkinned ? 'input' : 'input-base',\n      this.isRounded ? 'input-rounded' : '',\n      this.isUnderlined ? 'input-underlined' : '',\n      this.isDisabled ? 'disabled' : '',\n      this.isInline ? 'input-inline' : '',\n      this.hasLeftAddon ? 'input-has-left-addon' : '',\n      this.hasRightAddon ? 'input-has-right-addon' : '',\n      this.isInvalid ? 'input-error' : '',\n      this.isUnderlinedWithBackground ? 'input-underlined-bg' : '',\n      this.css ? `${this.css}` : '',\n      this.size ? `input-${this.size}` : '',\n    ];\n    klasses = klasses.filter((klass) => klass.length);\n    return klasses.join(' ');\n  }\n  handleChange(ev: Event) {\n    console.log('handleChange not yet implemented...');\n  }\n  handleFocus(ev: Event) {\n    console.log('handleFocus not yet implemented...');\n  }\n  handleBlur(ev: Event) {\n    console.log('handleBlur not yet implemented...');\n  }\n}\n"]}