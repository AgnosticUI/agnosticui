import{k as W,l as M,m as $,E as ue,o as y,H as j,q as X,u as k,v as O,w as z,x as L,y as ee,U as ve,z as ae,A as G,B as re,C as S,h as J,D as de,F as ce,G as _e,I as K,J as oe,K as Q,L as ne,M as he,N as q,O as U,P as me,Q as B,R as fe,S as pe,T as Ee,V as Te,W as Ae,X as Ie,Y as Ne,Z as le,_ as Ce,$ as we}from"./utils.DkxgpEgo.js";function Re(t,n,e=!1){M&&$();var l=t,u=null,v=null,f=ve,m=e?ue:0,T=!1;const p=(A,a=!0)=>{T=!0,I(a,A)};var c=null;function w(){c!==null&&(c.lastChild.remove(),l.before(c),c=null);var A=f?u:v,a=f?v:u;A&&G(A),a&&re(a,()=>{f?v=null:u=null})}const I=(A,a)=>{if(f===(f=A))return;let d=!1;if(M){const h=y(l)===j;!!f===h&&(l=X(),k(l),O(!1),d=!0)}var i=ae(),_=l;if(i&&(c=document.createDocumentFragment(),c.append(_=z())),f?u??=a&&L(()=>a(_)):v??=a&&L(()=>a(_)),i){var o=ee,N=f?u:v,C=f?v:u;N&&o.skipped_effects.delete(N),C&&o.skipped_effects.add(C),o.add_callback(w)}else w();d&&O(!0)};W(()=>{T=!1,n(p),T||I(null,null)},m),M&&(l=S)}function Se(t,n){return n}function xe(t,n,e){for(var l=t.items,u=[],v=n.length,f=0;f<v;f++)Ee(n[f].e,u,!0);var m=v>0&&u.length===0&&e!==null;if(m){var T=e.parentNode;Te(T),T.append(e),l.clear(),D(t,n[0].prev,n[v-1].next)}Ae(u,()=>{for(var p=0;p<v;p++){var c=n[p];m||(l.delete(c.k),D(t,c.prev,c.next)),fe(c.e,!m)}})}function be(t,n,e,l,u,v=null){var f=t,m={flags:n,items:new Map,first:null},T=(n&le)!==0;if(T){var p=t;f=M?k(Ne(p)):p.appendChild(z())}M&&$();var c=null,w=!1,I=new Map,A=de(()=>{var _=e();return he(_)?_:_==null?[]:ne(_)}),a,d;function i(){De(d,a,m,I,f,u,n,l,e),v!==null&&(a.length===0?c?G(c):c=L(()=>v(f)):c!==null&&re(c,()=>{c=null}))}W(()=>{d??=Ie,a=J(A);var _=a.length;if(w&&_===0)return;w=_===0;let o=!1;if(M){var N=y(f)===j;N!==(_===0)&&(f=X(),k(f),O(!1),o=!0)}if(M){for(var C=null,h,r=0;r<_;r++){if(S.nodeType===ce&&S.data===_e){f=S,o=!0,O(!1);break}var s=a[r],E=l(s,r);h=Z(S,m,C,null,s,E,r,u,n,e),m.items.set(E,h),C=h}_>0&&k(X())}if(M)_===0&&v&&(c=L(()=>v(f)));else if(ae()){var b=new Set,F=ee;for(r=0;r<_;r+=1){s=a[r],E=l(s,r);var R=m.items.get(E)??I.get(E);R?(n&(U|q))!==0&&ie(R,s,r,n):(h=Z(null,m,null,null,s,E,r,u,n,e,!0),I.set(E,h)),b.add(E)}for(const[x,g]of m.items)b.has(x)||F.skipped_effects.add(g.e);F.add_callback(i)}else i();o&&O(!0),J(A)}),M&&(f=S)}function De(t,n,e,l,u,v,f,m,T){var p=(f&we)!==0,c=(f&(U|q))!==0,w=n.length,I=e.items,A=e.first,a=A,d,i=null,_,o=[],N=[],C,h,r,s;if(p)for(s=0;s<w;s+=1)C=n[s],h=m(C,s),r=I.get(h),r!==void 0&&(r.a?.measure(),(_??=new Set).add(r));for(s=0;s<w;s+=1){if(C=n[s],h=m(C,s),r=I.get(h),r===void 0){var E=l.get(h);if(E!==void 0){l.delete(h),I.set(h,E);var b=i?i.next:a;D(e,i,E),D(e,E,b),P(E,b,u),i=E}else{var F=a?a.e.nodes_start:u;i=Z(F,e,i,i===null?e.first:i.next,C,h,s,v,f,T)}I.set(h,i),o=[],N=[],a=i.next;continue}if(c&&ie(r,C,s,f),(r.e.f&B)!==0&&(G(r.e),p&&(r.a?.unfix(),(_??=new Set).delete(r))),r!==a){if(d!==void 0&&d.has(r)){if(o.length<N.length){var R=N[0],x;i=R.prev;var g=o[0],V=o[o.length-1];for(x=0;x<o.length;x+=1)P(o[x],R,u);for(x=0;x<N.length;x+=1)d.delete(N[x]);D(e,g.prev,V.next),D(e,i,g),D(e,V,R),a=R,i=V,s-=1,o=[],N=[]}else d.delete(r),P(r,a,u),D(e,r.prev,r.next),D(e,r,i===null?e.first:i.next),D(e,i,r),i=r;continue}for(o=[],N=[];a!==null&&a.k!==h;)(a.e.f&B)===0&&(d??=new Set).add(a),N.push(a),a=a.next;if(a===null)continue;r=a}o.push(r),i=r,a=r.next}if(a!==null||d!==void 0){for(var H=d===void 0?[]:ne(d);a!==null;)(a.e.f&B)===0&&H.push(a),a=a.next;var Y=H.length;if(Y>0){var se=(f&le)!==0&&w===0?u:null;if(p){for(s=0;s<Y;s+=1)H[s].a?.measure();for(s=0;s<Y;s+=1)H[s].a?.fix()}xe(e,H,se)}}p&&Ce(()=>{if(_!==void 0)for(r of _)r.a?.apply()}),t.first=e.first&&e.first.e,t.last=i&&i.e;for(var te of l.values())fe(te.e);l.clear()}function ie(t,n,e,l){(l&U)!==0&&K(t.v,n),(l&q)!==0?K(t.i,e):t.i=e}function Z(t,n,e,l,u,v,f,m,T,p,c){var w=(T&U)!==0,I=(T&me)===0,A=w?I?oe(u,!1,!1):Q(u):u,a=(T&q)===0?f:Q(f),d={i:a,v:A,k:v,a:null,e:null,prev:e,next:l};try{if(t===null){var i=document.createDocumentFragment();i.append(t=z())}return d.e=L(()=>m(t,A,a,p),M),d.e.prev=e&&e.e,d.e.next=l&&l.e,e===null?c||(n.first=d):(e.next=d,e.e.next=d.e),l!==null&&(l.prev=d,l.e.prev=d.e),d}finally{}}function P(t,n,e){for(var l=t.next?t.next.e.nodes_start:e,u=n?n.e.nodes_start:e,v=t.e.nodes_start;v!==null&&v!==l;){var f=pe(v);u.before(v),v=f}}function D(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}export{Se as a,be as e,Re as i};
