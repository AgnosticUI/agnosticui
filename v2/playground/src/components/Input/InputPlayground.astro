---
import ReactInputDemo from "../ReactInputDemo.tsx";
import VueInputDemo from "../VueInputDemo.vue";
import SvelteInputDemo from "../SvelteInputDemo.svelte";
import { Home, Moon, Sun, Search, DollarSign, Eye, EyeOff, Mail, Phone, Lock, FileText, User, AlertTriangle, Target } from "lucide-astro";
---

<script>
  // Defer loading of agnosticui-core until after initial render
  import("agnosticui-core");
</script>

<style is:global>
  /* Shared styles are loaded in BaseLayout, no need to import again */

  /* Reset default body styles to use our container approach */
  body {
    margin: 0;
    padding: 0;
    background: var(--c-bg-secondary);
  }

  /* Navigation Breadcrumb */
  .nav-breadcrumb {
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--c-border);
  }

  .nav-home {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--c-text-light);
    font-size: 0.9rem;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .nav-home:hover {
    color: var(--ag-primary);
  }

  .nav-home svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  /* Basic styling for better visibility */
  h1, h2, h3 {
    margin: 1rem 0;
  }

  section {
    margin: 2rem 0;
    padding: 1.5rem;
    border: 1px solid var(--c-border);
    border-radius: 8px;
    text-align: left;
  }

  /* Input component styling for playground */
  ag-input {
    margin-bottom: 1rem;
    max-width: 400px;
    width: 100%;
  }

  /* Basic input field styling */
  ag-input::part(input),
  ag-input::part(textarea) {
    padding: 0.75rem;
    border: 1px solid var(--c-border);
    border-radius: 4px;
    font-size: 1rem;
    background: var(--c-card-bg);
    color: var(--c-text);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    width: 100%;
    box-sizing: border-box;
  }

  /* Specifically constrain textarea width */
  ag-input::part(textarea) {
    max-width: 100%;
    min-width: 0;
    resize: vertical;
  }

  ag-input::part(input):focus,
  ag-input::part(textarea):focus {
    border-color: var(--ag-primary);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
  }

  /* Label styling */
  ag-input::part(label) {
    font-weight: 600;
    color: var(--c-text);
    font-size: 0.9rem;
  }

  /* Help text styling */
  ag-input::part(help) {
    font-size: 0.85rem;
    color: var(--c-text-light);
    margin-top: 0.25rem;
  }

  /* Error message styling */
  ag-input::part(error) {
    font-size: 0.85rem;
    color: var(--c-danger);
    margin-top: 0.25rem;
    font-weight: 500;
  }

  /* Required indicator styling */
  .ag-input__required {
    color: var(--c-danger);
    margin-left: 0.25rem;
  }

  /* Addon styling - match input padding for height consistency */
  ag-input::part(addon-left),
  ag-input::part(addon-right) {
    padding: 0.75rem; /* Default size padding */
    background: var(--c-bg-secondary);
    border: 1px solid var(--c-border);
    color: var(--c-text-light);
    font-size: 1rem; /* Match input font-size */
    line-height: 1; /* Tight line-height for height consistency */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 2.75rem; /* 44px - match working addons */
    box-sizing: border-box;
  }

  /* Small size addon padding - match small input padding */
  ag-input[size="small"]::part(addon-left),
  ag-input[size="small"]::part(addon-right) {
    padding: 0.5rem;
    font-size: 0.8rem;
    min-height: calc(0.875rem + 1rem); /* Match small input height */
  }

  /* Large size addon padding - match large input padding */
  ag-input[size="large"]::part(addon-left),
  ag-input[size="large"]::part(addon-right) {
    padding: 1rem;
    font-size: 1.125rem;
    min-height: 3.4375rem; /* 55px - match actual large input height */
  }

  ag-input::part(addon-left) {
    border-right: none;
    border-radius: 4px 0 0 4px;
  }

  ag-input::part(addon-right) {
    border-left: none;
    border-radius: 0 4px 4px 0;
  }

  /* Ensure input doesn't have border radius when addons are present */
  ag-input[has-left-addon]::part(input) {
    border-radius: 0;
  }

  ag-input[has-right-addon]::part(input) {
    border-radius: 0;
  }

  ag-input[has-left-addon][has-right-addon]::part(input) {
    border-radius: 0;
  }

  ag-input[has-left-addon]:not([has-right-addon])::part(input) {
    border-radius: 0 4px 4px 0;
  }

  ag-input[has-right-addon]:not([has-left-addon])::part(input) {
    border-radius: 4px 0 0 4px;
  }

  /* Size variants */
  ag-input[size="small"]::part(input),
  ag-input[size="small"]::part(textarea) {
    padding: 0.5rem;
    font-size: 0.875rem;
  }

  ag-input[size="large"]::part(input),
  ag-input[size="large"]::part(textarea) {
    padding: 1rem;
    font-size: 1.125rem;
  }

  /* Styling variants */
  ag-input[is-rounded]::part(input),
  ag-input[is-rounded]::part(textarea) {
    border-radius: 12px;
  }

  ag-input[is-underlined]::part(input),
  ag-input[is-underlined]::part(textarea) {
    border: none;
    border-bottom: 2px solid var(--c-border);
    border-radius: 0;
    background: transparent;
  }

  ag-input[is-underlined]::part(input):focus,
  ag-input[is-underlined]::part(textarea):focus {
    border-bottom-color: var(--ag-primary);
    box-shadow: none;
  }

  ag-input[is-underlined-with-background]::part(input),
  ag-input[is-underlined-with-background]::part(textarea) {
    border: none;
    border-bottom: 2px solid var(--c-border);
    border-radius: 0;
    background: var(--c-bg-secondary);
  }

  /* Demo grid layout */
  .demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
  }

  .demo-item {
    padding: 1rem;
    border: 1px solid var(--c-border);
    border-radius: 6px;
    background: var(--c-card-bg);
    overflow: hidden;
    min-width: 0;
  }

  .demo-item h4 {
    margin: 0 0 1rem 0;
    font-size: 1rem;
    color: var(--c-text);
  }

  /* Form examples */
  .form-example {
    max-width: 500px;
    padding: 1.5rem;
    border: 2px solid var(--c-border);
    border-radius: 8px;
    background: var(--c-card-bg);
    margin: 1rem 0;
  }

  .form-example h4 {
    margin: 0 0 1.5rem 0;
    color: var(--c-text);
  }

  .form-row {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .form-row ag-input {
    flex: 1;
  }

  /* Code display */
  .code-example {
    background: var(--c-bg-secondary);
    border: 1px solid var(--c-border);
    border-radius: 4px;
    padding: 1rem;
    margin: 1rem 0;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875rem;
    overflow-x: auto;
    color: var(--c-text);
  }

  /* Interactive demo styling */
  .interactive-demo {
    background: var(--c-card-bg);
    border: 2px dashed var(--c-border);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0;
  }

  .controls {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
  }

  .controls label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--c-text);
  }

  .controls input[type="checkbox"] {
    margin: 0;
  }

  /* Heading icons styling */
  h4 {
    display: inline-flex;
    align-items: center;
  }

  .heading-icon {
    margin-right: 0.5rem;
  }
</style>

<!-- Theme Toggle Button -->
<button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
  <span class="theme-icon">
    <Moon class="moon-icon" size={20} />
    <Sun class="sun-icon" size={20} />
  </span>
</button>

<script>
  // Theme Management with localStorage priority system
  (function initTheme() {
    const savedTheme = localStorage.getItem("agnostic-theme");
    const systemPrefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    const initialTheme = savedTheme || (systemPrefersDark ? "dark" : "light");

    document.documentElement.setAttribute("data-theme", initialTheme);
    updateThemeToggle(initialTheme);

    const themeToggle = document.getElementById("themeToggle");
    themeToggle?.addEventListener("click", () => {
      const currentTheme = document.documentElement.getAttribute("data-theme");
      const newTheme = currentTheme === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", newTheme);
      localStorage.setItem("agnostic-theme", newTheme);
      updateThemeToggle(newTheme);
    });

    function updateThemeToggle(theme: string) {
      const moonIcon = document.querySelector(".moon-icon") as HTMLElement;
      const sunIcon = document.querySelector(".sun-icon") as HTMLElement;
      if (moonIcon && sunIcon) {
        if (theme === "dark") {
          moonIcon.style.display = "none";
          sunIcon.style.display = "block";
        } else {
          moonIcon.style.display = "block";
          sunIcon.style.display = "none";
        }
      }
    }

    window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
      if (!localStorage.getItem("agnostic-theme")) {
        const theme = e.matches ? "dark" : "light";
        document.documentElement.setAttribute("data-theme", theme);
        updateThemeToggle(theme);
      }
    });
  })();
</script>

<div class="nav-breadcrumb">
  <a href="/" class="nav-home">
    <Home />
    <span>Back to Components</span>
  </a>
</div>

<h1>Input Component Playground</h1>
<p>Comprehensive showcase of AgnosticUI's Input component with complete label architecture, validation, and accessibility features.</p>

<!-- Section 1: Label Architecture Showcase -->
<section>
  <h2>1. Label Architecture (Complete Flexibility)</h2>
  <p>Demonstrates all label patterns with clear examples and use case explanations.</p>

  <div class="demo-grid">
    <div class="demo-item">
      <h4>Standard Built-in Labels (Recommended)</h4>
      <ag-input label="Full Name" type="text"></ag-input>
      <ag-input label="Email Address" type="email" required></ag-input>
      <ag-input label="Password" type="password" help-text="Must be at least 8 characters"></ag-input>
      <div class="code-example">
        &lt;ag-input label="Email Address" type="email" required&gt;&lt;/ag-input&gt;
      </div>
    </div>

    <div class="demo-item">
      <h4>Visually Hidden Labels (Screen Reader Only)</h4>
      <ag-input label="Search" label-hidden type="search" placeholder="Search products..."></ag-input>
      <ag-input label="Quick filter" label-hidden type="text" placeholder="Filter results"></ag-input>
      <div class="code-example">
        &lt;ag-input label="Search" label-hidden type="search" placeholder="Search..."&gt;&lt;/ag-input&gt;
      </div>
    </div>

    <div class="demo-item">
      <h4>External Label (Advanced Layouts)</h4>
      <label for="custom-email">Custom Email Layout:</label>
      <ag-input id="custom-email" no-label type="email"></ag-input>
      <div class="code-example">
        &lt;label for="custom-email"&gt;Custom Email&lt;/label&gt;<br>
        &lt;ag-input id="custom-email" no-label type="email"&gt;&lt;/ag-input&gt;
      </div>
    </div>

    <div class="demo-item">
      <h4>aria-label Only (Icon-Only Inputs)</h4>
      <ag-input aria-label="Search site" no-label type="search" placeholder="Search..."></ag-input>
      <ag-input aria-label="Quick add item" no-label type="text" placeholder="+ Add"></ag-input>
      <div class="code-example">
        &lt;ag-input aria-label="Search site" no-label type="search"&gt;&lt;/ag-input&gt;
      </div>
    </div>
  </div>
</section>

<!-- Section 2: Input Types & Validation -->
<section>
  <h2>2. Input Types & Validation</h2>
  <p>Showcase all supported input types with proper validation states.</p>

  <div class="demo-grid">
    <div class="demo-item">
      <h4>HTML5 Input Types</h4>
      <ag-input label="Text" type="text" value="Sample text"></ag-input>
      <ag-input label="Email" type="email" value="user@example.com"></ag-input>
      <ag-input label="Password" type="password" value="secret123"></ag-input>
      <ag-input label="Number" type="number" value="42"></ag-input>
      <ag-input label="Phone" type="tel" value="+1 (555) 123-4567"></ag-input>
      <ag-input label="Website" type="url" value="https://agnosticui.com"></ag-input>
      <ag-input label="Search" type="search" value="search query"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Textarea Mode</h4>
      <ag-input label="Comments" type="textarea" rows="4" value="This is a textarea example with multiple lines of content."></ag-input>
      <ag-input label="Description" type="textarea" rows="6" help-text="Describe your project in detail"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Validation States</h4>
      <ag-input label="Valid Email" type="email" value="user@example.com" help-text="Email format looks good"></ag-input>
      <ag-input label="Invalid Email" type="email" invalid error-message="Please enter a valid email address" value="invalid-email"></ag-input>
      <ag-input label="Required Field" required help-text="This field is required"></ag-input>
      <ag-input label="Help Text Example" help-text="Enter your full legal name as it appears on official documents"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Complex Validation</h4>
      <ag-input
        label="Password"
        type="password"
        required
        invalid
        error-message="Password must contain at least 8 characters, including one uppercase letter, one number, and one special character"
        help-text="Choose a strong password for security">
      </ag-input>
    </div>
  </div>
</section>

<!-- Section 3: Size & Styling Variants -->
<section>
  <h2>3. Size & Styling Variants</h2>
  <p>Complete demonstration of v1 parity features.</p>

  <div class="demo-grid">
    <div class="demo-item">
      <h4>Size Variants</h4>
      <ag-input label="Small Input" size="small" value="Small size"></ag-input>
      <ag-input label="Default Input" size="default" value="Default size"></ag-input>
      <ag-input label="Large Input" size="large" value="Large size"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Styling Variants</h4>
      <ag-input label="Rounded Input" is-rounded value="Rounded corners"></ag-input>
      <ag-input label="Underlined Input" is-underlined value="Underlined style"></ag-input>
      <ag-input label="Underlined with Background" is-underlined-with-background value="Underlined + background"></ag-input>
      <ag-input label="Inline Input" is-inline value="Inline display"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Combined Variants</h4>
      <ag-input label="Large Rounded" size="large" is-rounded value="Large + rounded"></ag-input>
      <ag-input label="Small Underlined" size="small" is-underlined value="Small + underlined"></ag-input>
      <ag-input label="Large Underlined Background" size="large" is-underlined-with-background value="Large + underlined + bg"></ag-input>
    </div>

    <div class="demo-item">
      <h4>Textarea Variants</h4>
      <ag-input label="Small Textarea" type="textarea" size="small" rows="3" value="Small textarea"></ag-input>
      <ag-input label="Large Rounded Textarea" type="textarea" size="large" is-rounded rows="4" value="Large rounded textarea"></ag-input>
    </div>
  </div>
</section>

<!-- Section 4: Addon Support -->
<section>
  <h2>4. Addon Support</h2>
  <p>Left and right addon slots with flex layout integration.</p>

  <div class="demo-grid">
    <div class="demo-item">
      <h4>Left Addons</h4>
      <ag-input label="Search" has-left-addon placeholder="Search products...">
        <Search slot="addon-left" size={18} />
      </ag-input>
      <ag-input label="Email" has-left-addon type="email" placeholder="your.email@domain.com">
        <Mail slot="addon-left" size={18} />
      </ag-input>
      <ag-input label="Phone" has-left-addon type="tel" placeholder="(555) 123-4567">
        <Phone slot="addon-left" size={18} />
      </ag-input>
    </div>

    <div class="demo-item">
      <h4>Right Addons</h4>
      <ag-input label="Amount" has-right-addon type="number" placeholder="0.00">
        <span slot="addon-right">USD</span>
      </ag-input>
      <ag-input label="Website" has-right-addon type="url" placeholder="your-site">
        <span slot="addon-right">.com</span>
      </ag-input>
      <ag-input label="Percentage" has-right-addon type="number" placeholder="0">
        <span slot="addon-right">%</span>
      </ag-input>
    </div>

    <div class="demo-item">
      <h4>Both Addons</h4>
      <ag-input label="Currency" has-left-addon has-right-addon type="number" placeholder="0.00">
        <DollarSign slot="addon-left" size={18} />
        <span slot="addon-right">USD</span>
      </ag-input>
      <ag-input label="Password with Toggle" has-left-addon has-right-addon type="password" placeholder="Enter password">
        <Lock slot="addon-left" size={18} />
        <Eye slot="addon-right" size={18} />
      </ag-input>
    </div>

  </div>
</section>

<!-- Section 5: Real-World Form Examples -->
<section>
  <h2>5. Real-World Form Examples</h2>
  <p>Complete form scenarios using various patterns and features.</p>

  <div class="form-example">
    <h4><FileText size={16} class="heading-icon" /> Contact Form</h4>
    <ag-input label="Full Name" type="text" required help-text="First and last name"></ag-input>
    <ag-input label="Email Address" type="email" required help-text="We'll never share your email"></ag-input>
    <ag-input label="Phone Number" type="tel" help-text="Optional - for urgent matters only"></ag-input>
    <ag-input label="Subject" type="text" required></ag-input>
    <ag-input label="Message" type="textarea" rows="5" required help-text="Please describe your inquiry in detail"></ag-input>
  </div>

  <div class="form-example">
    <h4><Search size={16} class="heading-icon" /> Advanced Search Interface</h4>
    <ag-input
      label="Search"
      label-hidden
      type="search"
      has-left-addon
      has-right-addon
      placeholder="Search products, categories, brands..."
      size="large">
      <Search slot="addon-left" size={20} />
      <span slot="addon-right">âŒ˜K</span>
    </ag-input>

    <div class="form-row">
      <ag-input label="Min Price" has-left-addon type="number" placeholder="0">
        <DollarSign slot="addon-left" size={16} />
      </ag-input>
      <ag-input label="Max Price" has-left-addon type="number" placeholder="1000">
        <DollarSign slot="addon-left" size={16} />
      </ag-input>
    </div>
  </div>

  <div class="form-example">
    <h4><User size={16} class="heading-icon" /> User Registration</h4>
    <div class="form-row">
      <ag-input label="First Name" type="text" required></ag-input>
      <ag-input label="Last Name" type="text" required></ag-input>
    </div>
    <ag-input label="Email" type="email" required help-text="Used for login and notifications"></ag-input>
    <ag-input
      label="Password"
      type="password"
      required
      help-text="Must be at least 8 characters with uppercase, number, and special character"
      has-right-addon>
      <EyeOff slot="addon-right" size={18} />
    </ag-input>
    <ag-input label="Confirm Password" type="password" required></ag-input>
    <ag-input label="Phone (Optional)" type="tel" has-left-addon placeholder="(555) 123-4567">
      <Phone slot="addon-left" size={18} />
    </ag-input>
  </div>

  <div class="form-example">
    <h4><AlertTriangle size={16} class="heading-icon" /> Form with Validation Errors</h4>
    <ag-input
      label="Email"
      type="email"
      required
      invalid
      error-message="Please enter a valid email address"
      value="invalid.email">
    </ag-input>
    <ag-input
      label="Password"
      type="password"
      required
      invalid
      error-message="Password must be at least 8 characters long"
      value="123">
    </ag-input>
    <ag-input
      label="Confirm Password"
      type="password"
      required
      invalid
      error-message="Passwords do not match"
      value="different">
    </ag-input>
    <ag-input
      label="Terms Agreement"
      type="text"
      required
      invalid
      error-message="You must accept the terms and conditions to continue"
      readonly
      value="Please check the box below">
    </ag-input>
  </div>
</section>

<!-- Section 6: Interactive Demo -->
<section>
  <h2>6. Interactive Demo</h2>
  <p>Experiment with different combinations of properties and see the results in real-time.</p>

  <div class="interactive-demo">
    <div class="controls">
      <label><input type="checkbox" id="required"> Required</label>
      <label><input type="checkbox" id="invalid"> Invalid</label>
      <label><input type="checkbox" id="disabled"> Disabled</label>
      <label><input type="checkbox" id="readonly"> Readonly</label>
      <label><input type="checkbox" id="labelHidden"> Label Hidden</label>
      <label><input type="checkbox" id="isRounded"> Rounded</label>
      <label><input type="checkbox" id="isUnderlined"> Underlined</label>
      <label><input type="checkbox" id="hasLeftAddon"> Left Addon</label>
      <label><input type="checkbox" id="hasRightAddon"> Right Addon</label>
    </div>

    <div class="controls">
      <label>
        Size:
        <select id="size">
          <option value="small">Small</option>
          <option value="default" selected>Default</option>
          <option value="large">Large</option>
        </select>
      </label>
      <label>
        Type:
        <select id="type">
          <option value="text" selected>Text</option>
          <option value="email">Email</option>
          <option value="password">Password</option>
          <option value="number">Number</option>
          <option value="tel">Tel</option>
          <option value="url">URL</option>
          <option value="search">Search</option>
          <option value="textarea">Textarea</option>
        </select>
      </label>
    </div>

    <ag-input
      id="demo-input"
      label="Interactive Demo Input"
      help-text="Use the controls above to modify this input"
      placeholder="Type something..."
      value="Demo value">
      <Search slot="addon-left" size={18} />
      <Target slot="addon-right" size={16} />
    </ag-input>
  </div>
</section>

<section>
  <h2>React Integration</h2>
  <p>
    The ReactInput wrapper provides seamless integration with React applications while maintaining all the accessibility features and input patterns of the underlying web component.
  </p>
  <ReactInputDemo client:only="react" />
</section>

<section>
  <h2>Vue Integration</h2>
  <p>
    The VueInput wrapper provides seamless integration with Vue applications while maintaining all the accessibility features and input patterns of the underlying web component.
  </p>
  <VueInputDemo client:only="vue" />
</section>

<section>
  <h2>Svelte Integration</h2>
  <p>
    The SvelteInput wrapper provides seamless integration with Svelte applications using modern Svelte 5 patterns while maintaining all the accessibility features and input patterns of the underlying web component.
  </p>
  <SvelteInputDemo client:only="svelte" />
</section>

<section>
  <h2>Pure Lit Event Examples</h2>
  <p style="font-size: 0.875rem; color: var(--c-text-light); margin: 0 0 1rem 0; padding: 0.5rem; background: var(--c-bg-secondary); border-radius: 4px; border: 1px solid var(--c-border);">
    ðŸ’¡ <strong>Console Logging:</strong> Open your browser console (<kbd>F12</kbd> â†’ Console tab) to see input, change, focus, and blur events from these pure web component examples.
    <a href="javascript:void(0)" onclick="console.log('ðŸŽ¯ TIP: Expand the logged objects to see how we extract input values from shadow DOM, access element attributes, and handle different input types in addEventListener callbacks!')" style="color: var(--ag-primary); text-decoration: underline;">Click here</a> for event debugging tips!
  </p>

  <div style="display: grid; gap: 1rem; max-width: 600px;">
    <ag-input id="pure-lit-input-1" label="Pure Lit Text Input" type="text" placeholder="Type something..."></ag-input>
    <ag-input id="pure-lit-input-2" label="Pure Lit Email Input" type="email" placeholder="Enter your email"></ag-input>
    <ag-input id="pure-lit-input-3" label="Pure Lit Password Input" type="password" placeholder="Enter password"></ag-input>
    <ag-input id="pure-lit-input-4" label="Pure Lit Number Input" type="number" placeholder="Enter a number"></ag-input>
    <ag-input id="pure-lit-input-5" label="Pure Lit Textarea" type="textarea" rows="3" placeholder="Enter multiple lines..."></ag-input>
  </div>

  <p>Use these patterns in vanilla JavaScript applications or any custom framework integration.</p>
</section>

<script>
  // Interactive demo functionality
  document.addEventListener('DOMContentLoaded', () => {
    const demoInput = document.getElementById('demo-input');
    if (!demoInput) return;

    // Boolean properties
    const booleanControls = ['required', 'invalid', 'disabled', 'readonly', 'labelHidden', 'isRounded', 'isUnderlined', 'hasLeftAddon', 'hasRightAddon'];

    booleanControls.forEach(prop => {
      const checkbox = document.getElementById(prop);
      if (checkbox) {
        checkbox.addEventListener('change', () => {
          const attrName = prop.replace(/([A-Z])/g, '-$1').toLowerCase();
          if (checkbox.checked) {
            demoInput.setAttribute(attrName, '');
          } else {
            demoInput.removeAttribute(attrName);
          }
        });
      }
    });

    // Size selector
    const sizeSelect = document.getElementById('size');
    if (sizeSelect) {
      sizeSelect.addEventListener('change', () => {
        demoInput.setAttribute('size', sizeSelect.value);
      });
    }

    // Type selector
    const typeSelect = document.getElementById('type');
    if (typeSelect) {
      typeSelect.addEventListener('change', () => {
        demoInput.setAttribute('type', typeSelect.value);
        // Adjust placeholder based on type
        const placeholders = {
          text: 'Type something...',
          email: 'user@example.com',
          password: 'Enter password...',
          number: '42',
          tel: '(555) 123-4567',
          url: 'https://example.com',
          search: 'Search...',
          textarea: 'Type multiple lines...'
        };
        demoInput.setAttribute('placeholder', placeholders[typeSelect.value] || 'Type something...');
      });
    }

    // Pure Lit Event Examples
    const pureLitInputs = document.querySelectorAll('[id^="pure-lit-input-"]');

    pureLitInputs.forEach((input, index) => {
      // Listen for input events
      input.addEventListener('input', (event) => {
        const webComponent = event.target as any;
        const inputElement = webComponent.shadowRoot?.querySelector('input, textarea');
        const currentValue = inputElement?.value || webComponent.value || '(no value)';
        console.log(`ðŸ“ Pure Lit Input changed: "${currentValue}"`, {
          inputId: webComponent.id,
          type: webComponent.getAttribute('type') || 'text',
          label: webComponent.getAttribute('label') || 'No label',
          value: currentValue,
          timestamp: new Date().toLocaleTimeString(),
          eventType: 'pure-lit-input'
        });
      });

      // Listen for change events
      input.addEventListener('change', (event) => {
        const webComponent = event.target as any;
        const inputElement = webComponent.shadowRoot?.querySelector('input, textarea');
        const currentValue = inputElement?.value || webComponent.value || '(no value)';
        console.log(`âœ… Pure Lit Input change event: "${currentValue}"`, {
          inputId: webComponent.id,
          value: currentValue,
          timestamp: new Date().toLocaleTimeString(),
          eventType: 'pure-lit-change'
        });
      });

      // Listen for focus events
      input.addEventListener('focus', (event) => {
        const webComponent = event.target as any;
        console.log(`ðŸŽ¯ Pure Lit Input focused`, {
          inputId: webComponent.id,
          label: webComponent.getAttribute('label') || 'No label',
          timestamp: new Date().toLocaleTimeString(),
          eventType: 'pure-lit-focus'
        });
      });

      // Listen for blur events
      input.addEventListener('blur', (event) => {
        const webComponent = event.target as any;
        const inputElement = webComponent.shadowRoot?.querySelector('input, textarea');
        const currentValue = inputElement?.value || webComponent.value || '(empty)';
        console.log(`ðŸ‘‹ Pure Lit Input blurred - final value: "${currentValue}"`, {
          inputId: webComponent.id,
          value: currentValue,
          timestamp: new Date().toLocaleTimeString(),
          eventType: 'pure-lit-blur'
        });
      });

      console.log(`âœ… Pure Lit event listeners attached to input ${index + 1}`);
    });
  });
</script>

<style>
  /* Theme toggle styling */
  .theme-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: var(--c-card-bg);
    border: 1px solid var(--c-border);
    border-radius: 50%;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    z-index: 1000;
  }

  .theme-toggle:hover {
    background: var(--c-bg-secondary);
    transform: scale(1.05);
  }

  .theme-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--c-text);
  }

  .moon-icon, .sun-icon {
    transition: opacity 0.2s ease;
  }
</style>